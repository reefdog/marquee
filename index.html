<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>marquee: movie showtimes that are good</title>
  <link rel="stylesheet" href="/assets/normalize.css" type="text/css" media="screen">
  <style type="text/css">
    *,*:before,*:after {
      box-sizing: border-box;
    }

    html {
      font-size: 10px;
    }

    body {
      font-family: Inconsolata, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      font-size: 1.4rem;
      line-height: 2.2rem;
      color: black;
      background: white;
      padding: 1rem;
      max-width: 1600px;
      transition: padding 200ms ease-in-out;
    }

    main {
      transition: opacity 100ms ease-in-out;
    }
    .loading main {
      opacity: 0.15;
    }

    a,
    a:link,
    a:visited {
      text-decoration: none;
      color: inherit;
    }
    a:hover {
      text-decoration: underline;
    }

    #get-showtimes-form {
      line-height: 1.4rem;
    }

    .input-group {
      display: flex;
    }
    .input-group > label {
      flex-grow: 1;
    }

    @media (max-width: 599px) {
      #get-showtimes-form {
        display: flex;
        flex-wrap: wrap;
        height: 5rem;
      }

      .input-group {
        margin-right: 2rem;
      }

      .input-group:last-child {
        margin-right: 0;
      }

    }

    @media (min-width: 600px) {
      body {
        display: grid;
        grid-template-columns: auto 1fr;
        grid-column-gap: 2rem;
        padding: 2rem;
      }
      header {
        min-width: 200px;
        max-width: 300px;
      }
      .input-group {
        margin-bottom: 2rem;
      }
      #date-options > label {
        display: none;
      }
      #date-options.show-all > label,
      #date-options > label:nth-child(1),
      #date-options > label:nth-child(2),
      #date-options > label:nth-child(3) {
        display: block;
      }
    }

    @media (min-width: 900px) {
      body {
        grid-column-gap: 4rem;
        padding: 4rem;
      }
      .secondary-sections {
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-column-gap: 2rem;
      }
    }

    .primary-section {
      margin: 7rem 0;
    }

    .secondary-section {
      margin: 0 0 2rem 0;
    }

    .primary-label {
      font-size: 2.2rem;
      font-weight: 700;
      margin: 0;
    }

    .secondary-label {
      font-size: 1.6rem;
      font-weight: 600;
      margin: 0 0 0.5rem 0;
    }

    .primary-metadata {
      margin: 0.5rem 0 1rem 0;
      padding: 0;
      list-style-type: none;
    }
      .primary-metadata li {
        margin: 0;
        padding: 0;
        list-style-type: none;
        display: inline-block;
        margin-right: 2rem;
      }
      .primary-metadata li:last-child {
        margin-right: 0;
      }

    .showtime-block {
      margin: 0;
      padding: 0;
      list-style-type: none;
    }
    .showtime-block > li {
      margin: 0;
      padding: 0;
      display: inline-block;
      margin-right: 2rem;
    }

    .threed,
    .imax {
      font-size: 1.2rem;
      font-weight: bold;
    }

    a .threed-blue {
      color: blue;
    }
    a .threed-red {
      color: red;;
    }

    .past {
      color: #aaa;
    }

    .block-radio-button {
      cursor: pointer;
    }
    .block-radio-button > input[type=radio] {
      display: none;
    }
    .block-radio-button > .label {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      border: 0.1rem solid #BDBDBD;
      text-align: center;
      white-space: nowrap;
      padding: 0.5rem 1.1rem;
      margin-left: -0.1rem;
      color: #333;
    }
    .block-radio-button > .label:hover {
      border-width: 0.4rem;
      padding-left: 0.8rem;
      padding-right: 0.8rem;
    }
    .block-radio-button > input[type=radio]:checked + .label {
      z-index: 1;
      border: 0.4rem solid #2F80ED;
      padding-left: 0.8rem;
      padding-right: 0.8rem;
      color: #000;
      font-weight: bold;
    }

  </style>
</head>
<body>

<header>
  <form id="get-showtimes-form" action="https://data.tmsapi.com/v1.1/movies/showings" method="GET">
    <div class="input-group">
      <input name="password" type="text" placeholder="Enter the passphrase...">
    </div>
    <div class="input-group">
      <input name="zip" type="text" placeholder="ZIP">
      <select name="radius">
        <option>5</option>
        <option selected>10</option>
        <option>50</option>
        <option>100</option>
      </select>
      <button type="submit">Find</button>
    </div>
    <div id="date-options" class="input-group"></div>
    <div class="input-group">
      <label class="block-radio-button"><input value="Movie"   name="groupBy" type="radio" checked> <span class="label">Movie</span></label>
      <label class="block-radio-button"><input value="Theater" name="groupBy" type="radio">         <span class="label">Theater</span></label>
    </div>
  </form>
</header>

<main id="showtimes">
  <section class="primary-section"><h1 class="primary-label">The Greatest Showman</h1><ul class="primary-metadata"><li>Rated PG</li><li><a href="http://www.foxmovies.com/movies/the-greatest-showman">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Times Square Cinema</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:15am</span></li><li data-threed="false" data-imax="false"><span class="past">1:30pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=146853&amp;d=2017-12-29">3:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=146853&amp;d=2017-12-29">6:15pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=146853&amp;d=2017-12-29">10:00pm</a></li></ul></section><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">8:45am</span></li><li data-threed="false" data-imax="false"><span class="past">11:30am</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=146853&amp;d=2017-12-29">2:10pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=146853&amp;d=2017-12-29">4:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=146853&amp;d=2017-12-29">7:20pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=146853&amp;d=2017-12-29">10:00pm</a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">11:30am</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=146853&amp;d=2017-12-29">2:15pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=146853&amp;d=2017-12-29">5:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=146853&amp;d=2017-12-29">7:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=146853&amp;d=2017-12-29">10:30pm</a></li></ul></section></div></div></section><section class="primary-section"><h1 class="primary-label">Star Wars: The Last Jedi</h1><ul class="primary-metadata"><li>Rated PG-13</li><li><a href="http://www.starwars.com/films/star-wars-episode-viii-the-last-jedi">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Times Square Cinema</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">11:00am</span></li><li data-threed="false" data-imax="false"><span class="past">1:30pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=149052&amp;d=2017-12-29">4:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=149052&amp;d=2017-12-29">7:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=149052&amp;d=2017-12-29">9:45pm</a></li></ul></section><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">9:30am</span></li><li data-threed="false" data-imax="false"><span class="past">1:00pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=149052&amp;d=2017-12-29">4:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=149052&amp;d=2017-12-29">5:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=149052&amp;d=2017-12-29">8:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=149052&amp;d=2017-12-29">11:20pm</a></li><li data-threed="false" data-imax="true"><span class="past">8:30am<span class="imax"> IMAX</span></span></li><li data-threed="false" data-imax="true"><span class="past">12:00pm<span class="imax"> IMAX</span></span></li><li data-threed="false" data-imax="true"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=179048&amp;d=2017-12-29">3:30pm<span class="imax"> IMAX</span></a></li><li data-threed="false" data-imax="true"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=179048&amp;d=2017-12-29">7:00pm<span class="imax"> IMAX</span></a></li><li data-threed="false" data-imax="true"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=179048&amp;d=2017-12-29">10:30pm<span class="imax"> IMAX</span></a></li><li data-threed="true" data-imax="false"><span class="past">10:30am<span class="threed"> <span class="threed-blue">3</span><span class="threed-red">D</span></span></span></li><li data-threed="true" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=149063&amp;d=2017-12-29">2:00pm<span class="threed"> <span class="threed-blue">3</span><span class="threed-red">D</span></span></a></li><li data-threed="true" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=149063&amp;d=2017-12-29">9:00pm<span class="threed"> <span class="threed-blue">3</span><span class="threed-red">D</span></span></a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">11:00am</span></li><li data-threed="false" data-imax="false"><span class="past">12:00pm</span></li><li data-threed="false" data-imax="false"><span class="past">1:00pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=149052&amp;d=2017-12-29">2:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=149052&amp;d=2017-12-29">3:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=149052&amp;d=2017-12-29">4:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=149052&amp;d=2017-12-29">6:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=149052&amp;d=2017-12-29">7:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=149052&amp;d=2017-12-29">8:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=149052&amp;d=2017-12-29">9:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=149052&amp;d=2017-12-29">10:30pm</a></li></ul></section></div></div></section><section class="primary-section"><h1 class="primary-label">Pitch Perfect 3</h1><ul class="primary-metadata"><li>Rated PG-13</li><li><a href="http://www.pitchperfectmovie.com/">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Times Square Cinema</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">11:30am</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=152063&amp;d=2017-12-29">2:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=152063&amp;d=2017-12-29">5:15pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=152063&amp;d=2017-12-29">7:40pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=152063&amp;d=2017-12-29">10:00pm</a></li></ul></section><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">9:45am</span></li><li data-threed="false" data-imax="false"><span class="past">12:10pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=152063&amp;d=2017-12-29">2:40pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=152063&amp;d=2017-12-29">5:10pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=152063&amp;d=2017-12-29">7:40pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=152063&amp;d=2017-12-29">10:10pm</a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">11:45am</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=152063&amp;d=2017-12-29">2:25pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=152063&amp;d=2017-12-29">5:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=152063&amp;d=2017-12-29">7:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=152063&amp;d=2017-12-29">10:05pm</a></li></ul></section></div></div></section><section class="primary-section"><h1 class="primary-label">Thor: Ragnarok</h1><ul class="primary-metadata"><li>Rated PG-13</li><li><a href="https://marvel.com/thor">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=157889&amp;d=2017-12-29">10:55pm</a></li></ul></section></div><div class="secondary-sections-col"></div></div></section><section class="primary-section"><h1 class="primary-label">Justice League</h1><ul class="primary-metadata"><li>Rated PG-13</li><li><a href="http://www.justiceleaguethemovie.com/">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=158786&amp;d=2017-12-29">10:15pm</a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:15am</span></li></ul></section></div></div></section><section class="primary-section"><h1 class="primary-label">Father Figures</h1><ul class="primary-metadata"><li>Rated R</li><li><a href="https://www.warnerbros.com/father-figures">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Times Square Cinema</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:40am</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=162365&amp;d=2017-12-29">5:15pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=162365&amp;d=2017-12-29">8:15pm</a></li></ul></section><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:50am</span></li><li data-threed="false" data-imax="false"><span class="past">1:40pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=162365&amp;d=2017-12-29">4:25pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=162365&amp;d=2017-12-29">7:15pm</a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">11:00am</span></li><li data-threed="false" data-imax="false"><span class="past">1:45pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=162365&amp;d=2017-12-29">4:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=162365&amp;d=2017-12-29">10:45pm</a></li></ul></section></div></div></section><section class="primary-section"><h1 class="primary-label">Wonder</h1><ul class="primary-metadata"><li>Rated PG</li><li><a href="http://www.lionsgate.com/movies/wonder/">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">8:40am</span></li><li data-threed="false" data-imax="false"><span class="past">11:20am</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=167705&amp;d=2017-12-29">2:05pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=167705&amp;d=2017-12-29">4:50pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=167705&amp;d=2017-12-29">7:35pm</a></li></ul></section></div><div class="secondary-sections-col"></div></div></section><section class="primary-section"><h1 class="primary-label">Downsizing</h1><ul class="primary-metadata"><li>Rated R</li><li><a href="http://www.paramount.com/movies/downsizing">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Times Square Cinema</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">12:15pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=168933&amp;d=2017-12-29">3:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=168933&amp;d=2017-12-29">7:15pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=168933&amp;d=2017-12-29">10:40pm</a></li></ul></section><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:10am</span></li><li data-threed="false" data-imax="false"><span class="past">1:15pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=168933&amp;d=2017-12-29">4:20pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=168933&amp;d=2017-12-29">7:25pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=168933&amp;d=2017-12-29">10:45pm</a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">1:15pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168933&amp;d=2017-12-29">4:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168933&amp;d=2017-12-29">7:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168933&amp;d=2017-12-29">11:00pm</a></li></ul></section></div></div></section><section class="primary-section"><h1 class="primary-label">Jumanji: Welcome to the Jungle</h1><ul class="primary-metadata"><li>Rated PG-13</li><li><a href="http://www.sonypictures.com/movies/jumanjiwelcometothejungle/">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Times Square Cinema</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">11:00am</span></li><li data-threed="false" data-imax="false"><span class="past">1:00pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=168975&amp;d=2017-12-29">2:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=168975&amp;d=2017-12-29">4:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=168975&amp;d=2017-12-29">7:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=168975&amp;d=2017-12-29">9:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=168975&amp;d=2017-12-29">10:45pm</a></li></ul></section><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">9:00am</span></li><li data-threed="false" data-imax="false"><span class="past">10:20am</span></li><li data-threed="false" data-imax="false"><span class="past">1:20pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=168975&amp;d=2017-12-29">3:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=168975&amp;d=2017-12-29">4:20pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=168975&amp;d=2017-12-29">7:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=168975&amp;d=2017-12-29">10:20pm</a></li><li data-threed="true" data-imax="false"><span class="past">11:50am<span class="threed"> <span class="threed-blue">3</span><span class="threed-red">D</span></span></span></li><li data-threed="true" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=179216&amp;d=2017-12-29">6:00pm<span class="threed"> <span class="threed-blue">3</span><span class="threed-red">D</span></span></a></li><li data-threed="true" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=179216&amp;d=2017-12-29">9:10pm<span class="threed"> <span class="threed-blue">3</span><span class="threed-red">D</span></span></a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:00am</span></li><li data-threed="false" data-imax="false"><span class="past">10:15am</span></li><li data-threed="false" data-imax="false"><span class="past">12:15pm</span></li><li data-threed="false" data-imax="false"><span class="past">1:15pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168975&amp;d=2017-12-29">3:15pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168975&amp;d=2017-12-29">4:15pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168975&amp;d=2017-12-29">6:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168975&amp;d=2017-12-29">7:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168975&amp;d=2017-12-29">7:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168975&amp;d=2017-12-29">9:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=168975&amp;d=2017-12-29">10:45pm</a></li></ul></section></div></div></section><section class="primary-section"><h1 class="primary-label">Daddy's Home 2</h1><ul class="primary-metadata"><li>Rated PG-13</li><li><a href="http://www.paramount.com/movies/daddy-s-home-2">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=170729&amp;d=2017-12-29">10:25pm</a></li></ul></section></div><div class="secondary-sections-col"></div></div></section><section class="primary-section"><h1 class="primary-label">Ferdinand</h1><ul class="primary-metadata"><li>Rated PG</li><li><a href="http://www.foxmovies.com/movies/ferdinand">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Times Square Cinema</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:00am</span></li><li data-threed="false" data-imax="false"><span class="past">12:30pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=171503&amp;d=2017-12-29">3:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=171503&amp;d=2017-12-29">6:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATGX&amp;m=171503&amp;d=2017-12-29">8:30pm</a></li></ul></section><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:35am</span></li><li data-threed="false" data-imax="false"><span class="past">1:35pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=171503&amp;d=2017-12-29">4:35pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=171503&amp;d=2017-12-29">7:35pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=171503&amp;d=2017-12-29">10:35pm</a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:00am</span></li><li data-threed="false" data-imax="false"><span class="past">12:45pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=171503&amp;d=2017-12-29">3:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=171503&amp;d=2017-12-29">6:15pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=171503&amp;d=2017-12-29">9:00pm</a></li></ul></section></div></div></section><section class="primary-section"><h1 class="primary-label">Coco</h1><ul class="primary-metadata"><li>Rated PG</li><li><a href="http://movies.disney.com/coco">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">9:15am</span></li><li data-threed="false" data-imax="false"><span class="past">11:55am</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=172115&amp;d=2017-12-29">2:35pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=172115&amp;d=2017-12-29">5:25pm</a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:15am</span></li><li data-threed="false" data-imax="false"><span class="past">1:00pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=172115&amp;d=2017-12-29">3:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=172115&amp;d=2017-12-29">6:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=172115&amp;d=2017-12-29">9:15pm</a></li></ul></section></div></div></section><section class="primary-section"><h1 class="primary-label">Murder on the Orient Express</h1><ul class="primary-metadata"><li>Rated PG-13</li><li><a href="https://www.cluesareeverywhere.com/">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=173859&amp;d=2017-12-29">8:05pm</a></li></ul></section></div><div class="secondary-sections-col"></div></div></section><section class="primary-section"><h1 class="primary-label">Darkest Hour</h1><ul class="primary-metadata"><li>Rated PG-13</li><li><a href="http://www.focusfeatures.com/darkesthour/">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">9:20am</span></li><li data-threed="false" data-imax="false"><span class="past">12:25pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=174071&amp;d=2017-12-29">3:35pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=174071&amp;d=2017-12-29">6:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=174071&amp;d=2017-12-29">9:55pm</a></li></ul></section></div><div class="secondary-sections-col"></div></div></section><section class="primary-section"><h1 class="primary-label">All the Money in the World</h1><ul class="primary-metadata"><li>Rated R</li><li><a href="https://www.allthemoney-movie.com/">Site</a></li></ul><div class="secondary-sections"><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">AMC Tyler 14</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">10:00am</span></li><li data-threed="false" data-imax="false"><span class="past">1:10pm</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=176086&amp;d=2017-12-29">4:40pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=176086&amp;d=2017-12-29">7:45pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AATLA&amp;m=176086&amp;d=2017-12-29">11:00pm</a></li></ul></section></div><div class="secondary-sections-col"><section class="secondary-section"><h2 class="secondary-label">Studio Movie Grill Tyler</h2><ul class="showtime-block"><li data-threed="false" data-imax="false"><span class="past">11:45am</span></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=176086&amp;d=2017-12-29">3:00pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=176086&amp;d=2017-12-29">6:30pm</a></li><li data-threed="false" data-imax="false"><a href="http://www.fandango.com/tms.asp?t=AAXNV&amp;m=176086&amp;d=2017-12-29">10:00pm</a></li></ul></section></div></div></section>
</main>

<script src="/assets/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
<script>

(function(){

    var Marquee = window.Marquee = window.Marquee || {

      apiUrl: 'https://data.tmsapi.com/v1.1/movies/showings?',
      apiShowtimeCache: {},
      apiShowtimeData:  [],

      els: {
        $showtimes:        document.getElementById('showtimes'),
        $groupButtons:     document.querySelectorAll('[name="groupBy"]'),
        $getShowtimesForm: document.getElementById('get-showtimes-form'),
        $dateOptions:      document.getElementById('date-options'),
      },

      init: function() {
        Marquee.loadCookies();
        Marquee.setupDates();
        Marquee.updateGroupings();

        Marquee.els.$getShowtimesForm.addEventListener('submit', Marquee.submitShowtimesForm);
        Marquee.els.$dateButtons.forEach(function(button){
          button.addEventListener('change', Marquee.changeDate);
        });
        Marquee.els.$groupButtons.forEach(function(button){
          button.addEventListener('change', Marquee.changeGrouping);
        });
      },

      loadCookies: function() {
        var zip      = Cookies.get('zip');
        var password = Cookies.get('password');
        if (zip) {
          document.querySelector('[name="zip"]').setAttribute('value', zip);
        }
        if (password) {
          document.querySelector('[name="password"]').setAttribute('value', password);
        }
      },

      saveCookies: function() {
        Cookies.set('zip', document.querySelector('[name="zip"]').value);
        Cookies.set('password', document.querySelector('[name="password"]').value);
      },

      setupDates: function() {
        var dates = [];
        for (var i = 0; i < 7; i++) {
          var date = moment().add(i, 'days');
          dates.push('<label class="block-radio-button"><input value="'+date.format('YYYY-MM-DD')+'" name="startDate" type="radio"'+(i === 0 ? ' checked' : '')+'> <span class="label">'+date.format('ddd')+'<br>'+date.format('MMM D')+'</span></label>');
        }
        dates = dates.join('');
        Marquee.els.$dateOptions.innerHTML = dates;
        Marquee.els.$dateButtons = document.querySelectorAll('[name="startDate"]');
      },

      changeDate: function() {
        if (Marquee.submittable()) {
          Marquee.clearData();
          Marquee.fetchMovieTimes();
        }
      },

      submittable: function() {
        return (document.querySelector('[name="zip"]').value !== '');
      },

      changeGrouping: function() {
        Marquee.updateGroupings();
        if (this.checked) {
          Marquee.renderShowtimes();
        }
      },

      updateGroupings: function() {
        Marquee.primaryGroup = document.querySelector('[name="groupBy"]:checked').value;
        Marquee.secondaryGroup = Marquee.primaryGroup == 'Movie' ? 'Theater' : 'Movie';
      },

      submitShowtimesForm: function(event) {
        event.preventDefault();
        if (Marquee.submittable()) {
          Marquee.clearData();
          Marquee.fetchMovieTimes();
        }
      },

      serializeForm: function() {
        return {
          api_key:   document.querySelector('[name="password"]').value,
          zip:       document.querySelector('[name="zip"]').value,
          radius:    document.querySelector('[name="radius"]').value,
          startDate: document.querySelector('[name="startDate"]:checked').value,
        };
      },

      clearData: function() {
        Marquee.apiShowtimeData    = [];
        Marquee.dataForMovie       = {};
        Marquee.dataForTheater     = {};
        Marquee.showtimesByMovie   = {};
        Marquee.showtimesByTheater = {};
        Marquee.showtimeBlocks     = {};
      },

      fetchMovieTimes: function() {
        if (Marquee.cached()) {
          Marquee.renderFromCache();
        } else {
          var request = new XMLHttpRequest();
          request.open('GET', Marquee.apiUrl + Marquee._urlParams(Marquee.serializeForm()), true);
          request.onload = function() {
            if (this.status >= 200 && this.status < 400) {
              Marquee.saveCookies();
              Marquee.apiShowtimeCache[Marquee.makeCacheKey()] = JSON.parse(this.response);
              Marquee.renderFromCache();
            } else {
              alert('Server error');
            }
          };
          request.onerror = function() {
            alert('Connection error');
          };
          request.send();
        }
      },

      makeCacheKey: function() {
        var data = Marquee.serializeForm();
        return data.zip + '--' + data.radius + '--' + data.startDate;
      },

      cached: function() {
        return Marquee.apiShowtimeCache.hasOwnProperty(Marquee.makeCacheKey());
      },

      renderFromCache: function() {
        Marquee.apiShowtimeData = Marquee.apiShowtimeCache[Marquee.makeCacheKey()];
        Marquee.processShowtimes();
        Marquee.renderShowtimes();
      },

      renderShowtimes: function() {
        var html = '';
        var showtimes = Marquee['showtimesBy'+Marquee.primaryGroup];

        Marquee.eachObject(showtimes, function(secondaryObject, primaryId) {
          var primaryEntity = Marquee['dataFor'+Marquee.primaryGroup][primaryId];
          html += '<section class="primary-section">';
          html += '<h1 class="primary-label">'+primaryEntity.label+'</h1>';
          html += '<ul class="primary-metadata"><li>'+primaryEntity.metadata.join('</li><li>')+'</li></ul>';
          html += '<div class="secondary-sections">';
          var leftCol = '', rightCol = '', i = 1, tipper = Math.ceil(Object.keys(secondaryObject).length/2);
          Marquee.eachObject(secondaryObject, function(block, secondaryId) {
            var secondaryEntity = Marquee['dataFor'+Marquee.secondaryGroup][secondaryId];
            var section = '<section class="secondary-section">';
                section += '<h2 class="secondary-label">'+secondaryEntity.label+'</h2>';
                section += '<ul class="showtime-block">'+block.html+'</ul>';
                section += '</section>';
            if (i <= tipper) { leftCol  += section; }
            else             { rightCol += section; }
            i++;
          });
          html += '<div class="secondary-sections-col">'+leftCol+'</div>';
          html += '<div class="secondary-sections-col">'+rightCol+'</div>';
          html += '</div>';
          html += '</section>';
        });
        Marquee.els.$showtimes.innerHTML = html;
      },

      processShowtimes: function() {
        Marquee.apiShowtimeData.forEach(function(movie) {
          Marquee.createMovie(movie);
          movie.showtimes.forEach(function(showtime) {
            Marquee.createTheater(showtime.theatre);
            Marquee.seedGroupings(movie.rootId, showtime.theatre.id);
            Marquee.addToShowtimeBlock(movie, showtime);
          });
        });
        Marquee.groupShowtimes();
      },

      createMovie: function(movie) {
        Marquee.dataForMovie[movie.rootId] = Marquee.dataForMovie[movie.rootId] || {
          label:    movie.title,
          year:     movie.releaseYear,
          rating:   movie.ratings ? movie.ratings[0].code : 'n/a',
          language: movie.titleLang,
          runtime:  movie.runTime,
        };
      },

      createTheater: function(theater) {
        Marquee.dataForTheater[theater.id] = Marquee.dataForTheater[theater.id] || {
          label: theater.name, 
        };
      },

      addToShowtimeBlock: function(movie, showtime) {
        var uid = movie.rootId + '-' + showtime.theatre.id;
        Marquee.showtimeBlocks[uid] = Marquee.showtimeBlocks[uid] || {showtimes: [], html: ''};

        var showtimeData = {
          movieId:   movie.rootId,
          theaterId: showtime.theatre.id,
          dateTime:  showtime.dateTime,
          moment:    moment(showtime.dateTime),
          ticket:    showtime.ticketURI,
          threed:    Marquee.is3D(movie),
          imax:      Marquee.isIMAX(movie),
        };
        Marquee.showtimeBlocks[uid].showtimes.push(showtimeData);
        // TODO: Sort this showtime block by movie time (necessitating moving HTML generation out to a separate process).
        Marquee.showtimeBlocks[uid].html += '<li data-threed="'+showtimeData.threed+'" data-imax="'+showtimeData.imax+'">'+Marquee.createShowtimeLink(showtimeData)+'</li>';
      },

      seedGroupings: function(movieId, theaterId) {
        Marquee.showtimesByMovie[movieId] = Marquee.showtimesByMovie[movieId] || {};
        Marquee.showtimesByMovie[movieId][theaterId] = Marquee.showtimesByMovie[movieId][theaterId] || {};
        Marquee.showtimesByTheater[theaterId] = Marquee.showtimesByTheater[theaterId] || {};
        Marquee.showtimesByTheater[theaterId][movieId] = Marquee.showtimesByTheater[theaterId][movieId] || {};
      },

      groupShowtimes: function() {
        Marquee.eachObject(Marquee.showtimeBlocks, function(block, uid) {
          var ids       = uid.split('-');
          var movieId   = ids[0];
          var theaterId = ids[1];
          Marquee.showtimesByMovie[movieId][theaterId]   = block;
          Marquee.showtimesByTheater[theaterId][movieId] = block;
        });
      },

      is3D: function(movie) {
        return (movie.title.indexOf('3D') != -1);
      },

      isIMAX: function(movie) {
        return (movie.title.indexOf('IMAX') != -1);
      },

      createThreeD: function(showtime) {
        return (showtime.threed ? '<span class="threed"> <span class="threed-blue">3</span><span class="threed-red">D</span></span>' : '');
      },

      createIMAX: function(showtime) {
        return (showtime.imax ? '<span class="imax"> IMAX' : '');
      },

      createShowtimeLink: function(showtime) {
        if (showtime.moment.isBefore(moment())) {
          return '<span class="past">'+showtime.moment.format('h:mma')+Marquee.createThreeD(showtime)+Marquee.createIMAX(showtime)+'</span>';
        } else {
          return '<a href="'+showtime.ticket+'">'+showtime.moment.format('h:mma')+Marquee.createThreeD(showtime)+Marquee.createIMAX(showtime)+'</a>';
        }
      },

      _urlParams: function(data) {
        return Object.keys(data).map(function(key) {
          return [key, data[key]].map(encodeURIComponent).join("=");
        }).join("&");
      },

      eachObject: function(obj, fn) {
        for (var key in obj) {
          if (Object.prototype.hasOwnProperty.call(obj, key)) {
            fn(obj[key], key);
          }
        }
      },

    };
    Marquee.init();


})();

</script>  
</body>
</html>